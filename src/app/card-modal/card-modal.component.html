<ng-template #content let-modal>
    <div
        class="
            modal-header
            bg-primary
            text-white
            d-flex
            justify-content-between
            align-items-center
        "
        role="button"
    >
        <h4
            class="modal-title"
            id="modal-basic-title"
            (click)="editMode = true"
        >
            <i class="bi bi-wallet mr-2"></i>
            {{ card.name }}
            <span *ngIf="card.address"
                >({{ card.address | addressShort }})
                <i class="bi bi-pencil ml-2"></i>
            </span>
            <span *ngIf="!card.address">- Connect Wallet</span>
        </h4>
        <div>
            <i class="bi bi-x-lg" (click)="modal.close()"></i>
        </div>
    </div>
    <div class="modal-body">
        <form autocomplete="off">
            <div>
                <div class="app-back-button" *ngIf="editMode">
                    <button
                        type="button"
                        class="btn btn-outline-primary rounded-circle"
                        (click)="editMode = false"
                    >
                        <i class="bi bi-arrow-left"></i>
                    </button>
                </div>
                <div class="app-menu-button">
                    <button
                        type="button"
                        class="btn btn-outline-primary rounded-circle"
                        id="dropdownMenuCard"
                        data-toggle="dropdown"
                    >
                        <i class="bi bi-three-dots-vertical"></i>
                    </button>
                    <div
                        class="dropdown-menu border-primary"
                        aria-labelledby="dropdownMenuCard"
                    >
                        <button
                            class="dropdown-item text-primary"
                            (click)="editMode = true"
                        >
                            <i class="bi bi-pencil mr-2"></i>
                            Edit
                        </button>
                        <div class="dropdown-divider"></div>
                        <button
                            class="dropdown-item text-danger"
                            (click)="remove()"
                        >
                            <i class="bi bi-x-circle mr-2"></i>
                            Remove
                        </button>
                    </div>
                </div>

                <table
                    class="table table-borderless app-table-modal"
                    *ngIf="!editMode"
                >
                    <tbody>
                        <tr>
                            <td>
                                <span class="app-crypto-icon mr-2">
                                    <img
                                        src="/assets/svg/color/btc.svg"
                                        alt="btc"
                                    /> </span
                                >Bitcoin Network
                            </td>
                        </tr>
                        <tr>
                            <td class="align-middle">Wallets</td>
                            <td>
                                <button
                                    type="button"
                                    class="btn btn-outline-primary rounded-pill"
                                    (click)="liquality()"
                                >
                                    <span class="app-crypto-icon mx-1">
                                        <img
                                            src="/assets/liquality.png"
                                            alt="btc"
                                        />
                                    </span>
                                    Liquality
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="align-middle">Examples</td>
                            <td>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(
                                            0,
                                            'Example 1',
                                            'bitcoin',
                                            'btc'
                                        )
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example1
                                </button>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(
                                            1,
                                            'Example 2',
                                            'bitcoin',
                                            'btc'
                                        )
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example2
                                </button>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(
                                            2,
                                            'Example 3',
                                            'bitcoin',
                                            'btc'
                                        )
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example3
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="app-crypto-icon mr-2">
                                    <img
                                        src="/assets/svg/color/eth.svg"
                                        alt="eth"
                                    /> </span
                                >Ethereum Network
                            </td>
                        </tr>
                        <tr>
                            <td class="align-middle">Wallets</td>
                            <td>
                                <button
                                    type="button"
                                    class="btn btn-outline-primary rounded-pill"
                                    (click)="metamask()"
                                >
                                    <span class="app-crypto-icon mx-1">
                                        <img
                                            src="/assets/metamask.png"
                                            alt="metamask"
                                        />
                                    </span>
                                    Metamask
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="align-middle">Examples</td>
                            <td>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(
                                            0,
                                            'Example 1',
                                            'ethereum',
                                            'eth'
                                        )
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example1
                                </button>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(
                                            1,
                                            'Example 2',
                                            'ethereum',
                                            'eth'
                                        )
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example2
                                </button>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(
                                            2,
                                            'Example 3',
                                            'ethereum',
                                            'eth'
                                        )
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example3
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <span class="app-crypto-icon mr-2">
                                        <img
                                            src="/assets/svg/color/sol.svg"
                                            alt="sol"
                                        /> </span
                                    >Solana Network
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="align-middle">Wallets</td>
                            <td>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="phantom()"
                                >
                                    <span class="app-crypto-icon mr-1">
                                        <img
                                            src="/assets/phantom.png"
                                            alt="btc"
                                        />
                                    </span>
                                    Phantom
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="align-middle">Examples</td>
                            <td>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(0, 'Example 1', 'solana', 'sol')
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example1
                                </button>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(1, 'Example 2', 'solana', 'sol')
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example2
                                </button>
                                <button
                                    type="button"
                                    class="
                                        btn btn-outline-primary
                                        rounded-pill
                                        mr-2
                                    "
                                    (click)="
                                        example(2, 'Example 3', 'solana', 'sol')
                                    "
                                >
                                    <i class="bi bi-wallet mr-1"></i>
                                    Example3
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
    <div class="modal-footer d-flex flex-column">
        <div class="mb-3" *ngIf="editMode">
            <div class="app-edit-mode">
                <form>
                    <div class="form-group">
                        <label for="forName" class="text-primary">Name</label>
                        <input
                            type="text"
                            class="form-control"
                            placeholder="Account Name"
                            id="forName"
                            [(ngModel)]="card.name"
                            [ngModelOptions]="{ standalone: true }"
                        />
                    </div>
                    <div class="d-flex align-items-end mb-3">
                        <div class="form-group w-100">
                            <label for="forAddress" class="text-primary"
                                >Address</label
                            >
                            <input
                                type="text"
                                class="form-control"
                                placeholder="Address"
                                id="forAddress"
                                [(ngModel)]="card.address"
                                [ngModelOptions]="{ standalone: true }"
                            />
                        </div>
                        <div class="pb-3 text-nowrap">
                            <button
                                #t="ngbTooltip"
                                class="
                                    btn btn-outline-primary
                                    rounded-pill
                                    ml-2
                                "
                                ngxClipboard
                                [cbContent]="card.address"
                                [autoClose]="false"
                                (click)="copyToClipboard(t)"
                                ngbTooltip="Copied!"
                                [triggers]="'manual'"
                            >
                                <i class="bi bi-clipboard mr-1"></i>
                                Copy
                            </button>
                            <button
                                type="button"
                                class="
                                    btn btn-outline-primary
                                    rounded-circle
                                    ml-2
                                "
                                ngbTooltip="View address in explorer"
                                [appOpenAddressInExplorer]="{
                                    address: card.address,
                                    blockchain: card.blockchain
                                }"
                            >
                                <i class="bi bi-box-arrow-up-right"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group mb-5 d-flex justify-content-center">
                        <div class="dropdown mr-2">
                            <button
                                class="
                                    btn btn-outline-primary
                                    rounded-pill
                                    text-capitalize
                                    dropdown-toggle
                                "
                                type="button"
                                id="dropdownMenuButton"
                                data-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false"
                            >
                                <span class="app-crypto-icon mr-2">
                                    <img
                                        src="/assets/svg/color/{{
                                            card.icon
                                        }}.svg"
                                        alt="{{ card.icon }}"
                                    />
                                </span>
                                {{ card.blockchain }} Network
                            </button>
                            <div
                                class="dropdown-menu"
                                aria-labelledby="dropdownMenuButton"
                            >
                                <a class="dropdown-item" href="#">
                                    <span class="app-crypto-icon mr-2">
                                        <img
                                            src="/assets/svg/color/btc.svg"
                                            alt="btc"
                                        />
                                    </span>
                                    Bitcoin Network
                                </a>
                                <a class="dropdown-item mr-3" href="#">
                                    <span class="app-crypto-icon mr-2">
                                        <img
                                            src="/assets/svg/color/eth.svg"
                                            alt="eth"
                                        />
                                    </span>
                                    Ethereum Network</a
                                >
                                <a class="dropdown-item" href="#">
                                    <span class="app-crypto-icon mr-2">
                                        <img
                                            src="/assets/svg/color/sol.svg"
                                            alt="sol"
                                        />
                                    </span>
                                    Solana Network</a
                                >
                            </div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-center">
                        <button
                            type="button"
                            class="btn btn-outline-primary rounded-pill mr-2"
                            (click)="selectAddress()"
                        >
                            <i class="bi bi-check text-success"></i>
                            Confirm
                        </button>
                        <button
                            type="button"
                            class="btn btn-outline-primary rounded-pill"
                            (click)="editMode = false"
                        >
                            <i class="bi bi-x text-danger"></i>
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div class="d-flex justify-content-between mb-3" *ngIf="!editMode">
            <button
                *ngIf="!isNew()"
                type="button"
                class="btn btn-outline-primary rounded-pill"
                (click)="editMode = true"
            >
                <i class="bi bi-pencil mr-1"></i>
                Edit {{ card.address | addressShort }}
            </button>
            <button
                *ngIf="isNew()"
                type="button"
                class="btn btn-outline-primary rounded-pill"
                (click)="editMode = true"
            >
                <i class="bi bi-pencil mr-1"></i>
                Enter address manually
            </button>
            <button
                type="button"
                class="btn btn-outline-primary rounded-pill ml-2"
                (click)="modal.close()"
            >
                <i class="bi bi-box-arrow-down-left mr-1"></i>
                Close
            </button>
        </div>
    </div>
</ng-template>
